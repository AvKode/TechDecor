@model  IEnumerable<PAKTD.Models.MO.vmCompraItensProd>

@{
    ViewBag.Title = "Home Page";
}

<h1>@Session["tU"]</h1>






<link href="~/Style/HomeStyle/index.css" rel="stylesheet" />

<div id="carouselExample" class="carousel slide">
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="https://casacor.abril.com.br/wp-content/uploads/sites/7/2023/04/casa-fachada-tijolinhos-ampla-area-receber-convidados-14.jpg?quality=90&strip=info" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item">
            <img src="https://blog.daico.com.br/wp-content/uploads/2021/08/dicas-estilos-decoracoes-comodos-casa-990x550.png" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item">
            <img src="https://www.homeit.com.br/wp-content/uploads/2023/02/acabar-com-sensacao-de-aperto-em-casa-pequena-dicas-1200x900.jpg" class="d-block w-100" alt="...">
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>


<div class="img-DivSecond">
    <img src="https://casacor.abril.com.br/wp-content/uploads/sites/7/2023/04/casa-fachada-tijolinhos-ampla-area-receber-convidados-14.jpg?quality=90&strip=info" class="img-second1" />
    <img src="https://blog.daico.com.br/wp-content/uploads/2021/08/dicas-estilos-decoracoes-comodos-casa-990x550.png" class="img-second2" />
    <img src="https://www.homeit.com.br/wp-content/uploads/2023/02/acabar-com-sensacao-de-aperto-em-casa-pequena-dicas-1200x900.jpg" class="img-second3" />
</div>

<h1 class="prod-title">Nossos Produtos</h1>



<div class="sec-prod">


    @foreach (var produto in Model.Take(4))

    {

        <div class="card" style="width: 18rem;">
            <img src="@produto.mP.ImgProd" class="card-img-top" alt="...">
            <div class="card-body">
                @{
                    var limiteCaracteres = 20;
                    var nomeProduto = produto.mP.NmPro;

                    if (nomeProduto.Length > limiteCaracteres)
                    {
                        nomeProduto = nomeProduto.Substring(0, limiteCaracteres) + "...";
                    }
                }
                <h5 class="card-title">@nomeProduto</h5>
                <p class="card-text">@produto.mP.DsPro</p>
                <img src="https://static.vecteezy.com/system/resources/previews/013/743/912/original/five-stars-rating-icon-png.png" class="card-img-bt" alt="...">

                <h5 id="inputValor" class="card-price text-center"> @produto.mP.VlPro.ToString("C")</h5>
                @Html.ActionLink("Comprar", "adicionarCarrinho", "Pagamento", new { id = produto.mP.IdPro }, new { @class = "btn btn-success" })
                @Html.ActionLink("Detalhes", "detalhesProduto", "Produto", new { id = produto.mP.IdPro }, new { @class = "btn btn-warning" })
                <a href="#" class="btn btn-warning">Carrinho</a>
            </div>
        </div>

    }





</div>

<!--OFFCANVAS (Carrinho)-->
<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel" style="background-color:#000000;color:white;">
    <div class="offcanvas-header">


    </div>


    <div class="offcanvas-body">
        <h4 class="text-center">CARRINHO</h4>
        @foreach (var itemCompra in Model.SelectMany(vm => vm.mC.ItensCompra))
        {
            <div class="d-flex">
                <img class="mt-3" width="120" height="90" src="@itemCompra.ImgProd" />
                <h6 class="mt-5" style="margin-left:1vw;">@itemCompra.NmPro</h6>


                <img class="mt-5" width="26" height="26" style="margin-left:1vw;" src="https://img.icons8.com/color/48/352563/minus.png" alt="plus-math" />
                <img class="mt-5" width="26" height="26" style="margin-left:1vw;" src="https://img.icons8.com/color/48/000000/cancel--v1.png" alt="cancel--v1" />
                <img class="mt-5" width="26" height="26" style="margin-left:1vw;" src="https://img.icons8.com/color/48/plus--v1.png" alt="plus--v1" />
            </div>


        }


        <h5 class="text-center mt-4">Valor Total  :  R$ 234,90</h5>

        <div class="d-flex justify-content-center gap-2">
            @Html.ActionLink("Checkout", " Checkout", "Pagamento", new { @class = "btn btn-success" })
            <button class="btn btn-success" data-bs-dismiss="offcanvas" aria-label="Close" style="background-color:#352563;">Continuar Comprando</button>
        </div>
    </div>
</div>



